<app-nav></app-nav>
<form class="container">
  <div class="row">
    <h5>
      <dt>ค้นหาผู้รับอนุญาต</dt>
    </h5>
  </div>
  <br>
  <div class="row">
    <div class="col-md-6">
      <label>เลขที่นิติบุคคล</label>
      <input name='juristicNo' id="juristicNo" type="text" class="form-control" [(ngModel)]='form.juristicNo'
        placeholder="1234567890">
    </div>
    <div class="col-md-6">
      <label>ชื่อผู้รับอนุญาต</label>
      <input name='companyName' id="companyName" type="text" class="form-control" [(ngModel)]='form.companyName'
        placeholder="ชื่อ-นามสกุล">
    </div>
  </div>
  <br>
  <div class="row">
    <div class="col-md-3">
      <label>ประเภทใบอนุญาต</label>
      <select name='licenseGroupType' id="licenseGroupType" class="form-control" [(ngModel)]='form.licenseGroupType'>
        <option hidden value="">เลือกประเภทใบอนุญาต</option>
        <option *ngFor="let license of formConfig.licenseGroupType" value="{{license}}">{{license}}</option>
      </select>
    </div>
    <div class="col-md-3">
      <label>แบบใบอนุญาต</label>
      <select name='licenseType' id="licenseType" class="form-control" [(ngModel)]='form.licenseType'>
        <option hidden value="">เลือกแบบใบอนุญาต</option>
        <option *ngFor="let license of formConfig.licenseType" value="{{license}}">{{license}}</option>
      </select>
    </div>
    <div class="col-md-6">
      <label>เลขที่ใบอนุญาต</label>
      <input name='licenseNo' id="licenseNo" type="text" class="form-control" [(ngModel)]='form.licenseNo' placeholder="1234567890">
    </div>
  </div>
  <br>
  <div class="row">
    <div class="col-md-6">
      <label>บริการที่ได้รับอนุญาต</label>
      <select name='service' id="service" class="form-control" [(ngModel)]='form.service'>
        <option hidden value="">เลือกบริการที่ได้รับอนุญาต</option>
        <option *ngFor="let service of formConfig.service" value="{{service.id}}">{{service.name}}</option>
      </select>
    </div>
    <div class="col-md-6">
      <div ng-controller="yearselecter">
        <label>ปีที่ได้รับอนุญาต</label>
        <select name='effectiveYear' id="effectiveYear" class="form-control" [(ngModel)]='form.effectiveYear'>
          <option hidden value="">เลือกปีที่ได้รับอนุญาต</option>
          <option *ngFor="let year of formConfig.effectiveYear" value="{{year}}">{{year}}</option>
        </select>
      </div>
    </div>
  </div>
  <br>
  <div class="row">
    <div class="col-md-6">
      <label>วันที่ได้รับอนุญาต</label>
      <div class="row">
        <div class="col-md-12">
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">จากวันที่</span>
            </div>
            <input class="form-control" name='issueDateBegin' id="issueDateBegin" type="text" [(ngModel)]='form.issueDateBegin'
              placeholder="วัน/เดือน/ปี">
            <div class="input-group-prepend">
              <span class="input-group-text">ถึงวันที่</span>
            </div>
            <input class="form-control" name='issueStartDateEnd' id="issueStartDateEnd" type="text" [(ngModel)]='form.issueStartDateEnd'
              placeholder="วัน/เดือน/ปี">
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <label>วันที่สิ้นสุดการอนุญาต</label>
      <div class="row">
        <div class="col-md-12">
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">จากวันที่</span>
            </div>
            <input class="form-control" name='expireDateBegin' id="expireDateBegin" type="text" [(ngModel)]='form.expireDateBegin'
              placeholder="วัน/เดือน/ปี">
            <div class="input-group-prepend">
              <span class="input-group-text">ถึงวันที่</span>
            </div>
            <input class="form-control" name='expireDateEnd' id="expireDateEnd" type="text" [(ngModel)]='form.expireDateEnd'
              placeholder="วัน/เดือน/ปี">
          </div>
        </div>
      </div>
    </div>
  </div>
  <br>
  <div class="row">
    <div class="col-md-12 text-center">
      <button (click)="search(form)" type="button" class="btn btn-primary" id="searchbtn">ค้นหา</button>
    </div>
  </div>
</form>
<br>
<app-table-template [licenses]="data" *ngIf="showTable"></app-table-template>